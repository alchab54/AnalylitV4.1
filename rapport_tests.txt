============================= test session starts ==============================
platform linux -- Python 3.11.13, pytest-7.4.3, pluggy-1.6.0 -- /usr/local/bin/python3.11
cachedir: .pytest_cache
rootdir: /home/appuser/app
configfile: pytest.ini
plugins: timeout-2.2.0, mock-3.10.0, asyncio-0.21.1, xdist-3.5.0, cov-4.1.0, anyio-4.11.0
timeout: 60.0s
timeout method: signal
timeout func_only: False
asyncio: mode=Mode.STRICT
created: 1/1 worker
1 worker [176 items]

scheduling tests via LoadScheduling

tests/test_advanced_features.py::test_pull_ollama_model_task 
[gw0] [  0%] PASSED tests/test_advanced_features.py::test_pull_ollama_model_task 
tests/test_advanced_features.py::test_pull_ollama_model_task_failure 
[gw0] [  1%] PASSED tests/test_advanced_features.py::test_pull_ollama_model_task_failure 
tests/test_ai_processors.py::test_call_ollama_api_text_output_success 
[gw0] [  1%] PASSED tests/test_ai_processors.py::test_call_ollama_api_text_output_success 
tests/test_ai_processors.py::test_call_ollama_api_json_output_success 
[gw0] [  2%] PASSED tests/test_ai_processors.py::test_call_ollama_api_json_output_success 
tests/test_ai_processors.py::test_call_ollama_api_request_exception 
[gw0] [  2%] PASSED tests/test_ai_processors.py::test_call_ollama_api_request_exception 
tests/test_ai_processors.py::test_call_ollama_api_http_error 
[gw0] [  3%] PASSED tests/test_ai_processors.py::test_call_ollama_api_http_error 
tests/test_ai_processors.py::test_call_ollama_api_malformed_json_cleanup_success 
[gw0] [  3%] PASSED tests/test_ai_processors.py::test_call_ollama_api_malformed_json_cleanup_success 
tests/test_ai_processors.py::test_call_ollama_api_malformed_json_cleanup_fails 
[gw0] [  4%] PASSED tests/test_ai_processors.py::test_call_ollama_api_malformed_json_cleanup_fails 
tests/test_ai_processors.py::test_call_ollama_api_general_exception 
[gw0] [  5%] PASSED tests/test_ai_processors.py::test_call_ollama_api_general_exception 
tests/test_ai_processors.py::test_call_ollama_api_empty_response 
[gw0] [  5%] PASSED tests/test_ai_processors.py::test_call_ollama_api_empty_response 
tests/test_api_additions.py::test_run_analysis_new_types 
[gw0] [  6%] PASSED tests/test_api_additions.py::test_run_analysis_new_types 
tests/test_api_additions.py::test_get_task_status 
[gw0] [  6%] PASSED tests/test_api_additions.py::test_get_task_status 
tests/test_api_additions.py::test_save_rob_assessment 
[gw0] [  7%] PASSED tests/test_api_additions.py::test_save_rob_assessment 
tests/test_api_additions.py::test_get_task_status_not_found 
[gw0] [  7%] PASSED tests/test_api_additions.py::test_get_task_status_not_found 
tests/test_api_analysis_profiles.py::test_api_analysis_profiles_crud_workflow 
[gw0] [  8%] PASSED tests/test_api_analysis_profiles.py::test_api_analysis_profiles_crud_workflow 
tests/test_api_extensions.py::test_api_grid_management_workflow 
[gw0] [  9%] PASSED tests/test_api_extensions.py::test_api_grid_management_workflow 
tests/test_api_extensions.py::test_api_prompts_get_and_update 
[gw0] [  9%] FAILED tests/test_api_extensions.py::test_api_prompts_get_and_update 
tests/test_api_extensions.py::test_api_full_validation_workflow 
[gw0] [ 10%] PASSED tests/test_api_extensions.py::test_api_full_validation_workflow 
tests/test_api_extensions.py::test_api_prisma_checklist_workflow 
[gw0] [ 10%] PASSED tests/test_api_extensions.py::test_api_prisma_checklist_workflow 
tests/test_api_extensions.py::test_api_admin_queues_status 
[gw0] [ 11%] PASSED tests/test_api_extensions.py::test_api_admin_queues_status 
tests/test_api_extensions.py::test_api_upload_pdfs_bulk 
[gw0] [ 11%] PASSED tests/test_api_extensions.py::test_api_upload_pdfs_bulk 
tests/test_atn_methodology.py::test_atn_extraction_grid_completeness 
[gw0] [ 12%] PASSED tests/test_atn_methodology.py::test_atn_extraction_grid_completeness 
tests/test_atn_methodology.py::test_atn_scoring_algorithms_validation 
[gw0] [ 13%] PASSED tests/test_atn_methodology.py::test_atn_scoring_algorithms_validation 
tests/test_atn_scoring.py::test_run_atn_score_task_no_extractions 
[gw0] [ 13%] PASSED tests/test_atn_scoring.py::test_run_atn_score_task_no_extractions 
tests/test_atn_scoring.py::test_run_atn_score_task_scoring_logic 
[gw0] [ 14%] PASSED tests/test_atn_scoring.py::test_run_atn_score_task_scoring_logic 
tests/test_bias_risk_calculation.py::test_run_rob_analysis_success 
[gw0] [ 14%] PASSED tests/test_bias_risk_calculation.py::test_run_rob_analysis_success 
tests/test_bias_risk_calculation.py::test_run_rob_analysis_no_articles 
[gw0] [ 15%] FAILED tests/test_bias_risk_calculation.py::test_run_rob_analysis_no_articles 
tests/test_bias_risk_calculation.py::test_run_rob_analysis_project_not_found 
[gw0] [ 15%] PASSED tests/test_bias_risk_calculation.py::test_run_rob_analysis_project_not_found 
tests/test_data_integrity.py::test_deduplication_on_conflict_during_search 
[gw0] [ 16%] PASSED tests/test_data_integrity.py::test_deduplication_on_conflict_during_search 
tests/test_data_integrity.py::test_deduplication_in_zotero_import_logic 
[gw0] [ 17%] PASSED tests/test_data_integrity.py::test_deduplication_in_zotero_import_logic 
tests/test_data_integrity.py::test_database_backup_and_restore_cycle 
[gw0] [ 17%] SKIPPED tests/test_data_integrity.py::test_database_backup_and_restore_cycle 
tests/test_database.py::test_seed_default_data_when_empty 
[gw0] [ 18%] PASSED tests/test_database.py::test_seed_default_data_when_empty 
tests/test_database.py::test_seed_default_data_when_exists 
[gw0] [ 18%] PASSED tests/test_database.py::test_seed_default_data_when_exists 
tests/test_diagnostic.py::test_diagnostic_tables_skipped 
[gw0] [ 19%] SKIPPED tests/test_diagnostic.py::test_diagnostic_tables_skipped 
tests/test_diagnostic_db.py::test_database_connection_and_schema 
[gw0] [ 19%] PASSED tests/test_diagnostic_db.py::test_database_connection_and_schema 
tests/test_e2e_workflow.py::test_full_end_to_end_workflow 
[gw0] [ 20%] FAILED tests/test_e2e_workflow.py::test_full_end_to_end_workflow 
tests/test_importers.py::test_clean_html <- ../../../app/tests/test_importers.py 
[gw0] [ 21%] PASSED tests/test_importers.py::test_clean_html <- ../../../app/tests/test_importers.py 
tests/test_importers.py::test_load_items_file_not_found <- ../../../app/tests/test_importers.py 
[gw0] [ 21%] PASSED tests/test_importers.py::test_load_items_file_not_found <- ../../../app/tests/test_importers.py 
tests/test_importers.py::test_load_items_empty_json <- ../../../app/tests/test_importers.py 
[gw0] [ 22%] PASSED tests/test_importers.py::test_load_items_empty_json <- ../../../app/tests/test_importers.py 
tests/test_importers.py::test_load_items_valid_json <- ../../../app/tests/test_importers.py 
[gw0] [ 22%] PASSED tests/test_importers.py::test_load_items_valid_json <- ../../../app/tests/test_importers.py 
tests/test_importers.py::test_load_items_malformed_json <- ../../../app/tests/test_importers.py 
[gw0] [ 23%] PASSED tests/test_importers.py::test_load_items_malformed_json <- ../../../app/tests/test_importers.py 
tests/test_importers.py::test_get_best_identifier_pmid_extra <- ../../../app/tests/test_importers.py 
[gw0] [ 23%] PASSED tests/test_importers.py::test_get_best_identifier_pmid_extra <- ../../../app/tests/test_importers.py 
tests/test_importers.py::test_get_best_identifier_pmid_field <- ../../../app/tests/test_importers.py 
[gw0] [ 24%] PASSED tests/test_importers.py::test_get_best_identifier_pmid_field <- ../../../app/tests/test_importers.py 
tests/test_importers.py::test_get_best_identifier_doi <- ../../../app/tests/test_importers.py 
[gw0] [ 25%] PASSED tests/test_importers.py::test_get_best_identifier_doi <- ../../../app/tests/test_importers.py 
tests/test_importers.py::test_get_best_identifier_zotero_key <- ../../../app/tests/test_importers.py 
[gw0] [ 25%] PASSED tests/test_importers.py::test_get_best_identifier_zotero_key <- ../../../app/tests/test_importers.py 
tests/test_importers.py::test_get_best_identifier_hash_generated <- ../../../app/tests/test_importers.py 
[gw0] [ 26%] PASSED tests/test_importers.py::test_get_best_identifier_hash_generated <- ../../../app/tests/test_importers.py 
tests/test_importers.py::test_get_best_identifier_precedence <- ../../../app/tests/test_importers.py 
[gw0] [ 26%] PASSED tests/test_importers.py::test_get_best_identifier_precedence <- ../../../app/tests/test_importers.py 
tests/test_importers.py::test_get_publication_year_from_date <- ../../../app/tests/test_importers.py 
[gw0] [ 27%] PASSED tests/test_importers.py::test_get_publication_year_from_date <- ../../../app/tests/test_importers.py 
tests/test_importers.py::test_get_publication_year_from_year <- ../../../app/tests/test_importers.py 
[gw0] [ 27%] PASSED tests/test_importers.py::test_get_publication_year_from_year <- ../../../app/tests/test_importers.py 
tests/test_importers.py::test_get_publication_year_no_year <- ../../../app/tests/test_importers.py 
[gw0] [ 28%] PASSED tests/test_importers.py::test_get_publication_year_no_year <- ../../../app/tests/test_importers.py 
tests/test_importers.py::test_extract_reference_data_full_item <- ../../../app/tests/test_importers.py 
[gw0] [ 28%] PASSED tests/test_importers.py::test_extract_reference_data_full_item <- ../../../app/tests/test_importers.py 
tests/test_importers.py::test_extract_reference_data_missing_fields <- ../../../app/tests/test_importers.py 
[gw0] [ 29%] PASSED tests/test_importers.py::test_extract_reference_data_missing_fields <- ../../../app/tests/test_importers.py 
tests/test_importers.py::test_extract_reference_data_error_handling <- ../../../app/tests/test_importers.py 
[gw0] [ 30%] PASSED tests/test_importers.py::test_extract_reference_data_error_handling <- ../../../app/tests/test_importers.py 
tests/test_importers.py::test_process_no_duplicates <- ../../../app/tests/test_importers.py 
[gw0] [ 30%] PASSED tests/test_importers.py::test_process_no_duplicates <- ../../../app/tests/test_importers.py 
tests/test_importers.py::test_process_with_duplicates <- ../../../app/tests/test_importers.py 
[gw0] [ 31%] PASSED tests/test_importers.py::test_process_with_duplicates <- ../../../app/tests/test_importers.py 
tests/test_importers.py::test_process_empty_input <- ../../../app/tests/test_importers.py 
[gw0] [ 31%] PASSED tests/test_importers.py::test_process_empty_input <- ../../../app/tests/test_importers.py 
tests/test_importers.py::test_process_items_returning_none <- ../../../app/tests/test_importers.py 
[gw0] [ 32%] PASSED tests/test_importers.py::test_process_items_returning_none <- ../../../app/tests/test_importers.py 
tests/test_logging.py::test_setup_logging_configures_handlers <- ../../../app/tests/test_logging.py 
[gw0] [ 32%] PASSED tests/test_logging.py::test_setup_logging_configures_handlers <- ../../../app/tests/test_logging.py 
tests/test_missing_coverage.py::test_api_get_search_results_pagination 
[gw0] [ 33%] FAILED tests/test_missing_coverage.py::test_api_get_search_results_pagination 
tests/test_missing_coverage.py::test_api_get_chat_history 
[gw0] [ 34%] FAILED tests/test_missing_coverage.py::test_api_get_chat_history 
tests/test_multibase_search.py::test_multi_database_search_task_expert_mode 
[gw0] [ 34%] PASSED tests/test_multibase_search.py::test_multi_database_search_task_expert_mode 
tests/test_multibase_search.py::test_multi_database_search_task_expert_mode_partial 
[gw0] [ 35%] PASSED tests/test_multibase_search.py::test_multi_database_search_task_expert_mode_partial 
tests/test_notifications.py::test_publish_notification_success <- ../../../app/tests/test_notifications.py 
[gw0] [ 35%] PASSED tests/test_notifications.py::test_publish_notification_success <- ../../../app/tests/test_notifications.py 
tests/test_notifications.py::test_publish_notification_publish_exception <- ../../../app/tests/test_notifications.py 
[gw0] [ 36%] PASSED tests/test_notifications.py::test_publish_notification_publish_exception <- ../../../app/tests/test_notifications.py 
tests/test_notifications.py::test_publish_notification_redis_conn_none <- ../../../app/tests/test_notifications.py 
[gw0] [ 36%] PASSED tests/test_notifications.py::test_publish_notification_redis_conn_none <- ../../../app/tests/test_notifications.py 
tests/test_notifications.py::test_send_project_notification <- ../../../app/tests/test_notifications.py 
[gw0] [ 37%] PASSED tests/test_notifications.py::test_send_project_notification <- ../../../app/tests/test_notifications.py 
tests/test_notifications.py::test_send_global_notification <- ../../../app/tests/test_notifications.py 
[gw0] [ 38%] PASSED tests/test_notifications.py::test_send_global_notification <- ../../../app/tests/test_notifications.py 
tests/test_notifications.py::test_get_redis_connection_lazy_loading <- ../../../app/tests/test_notifications.py 
[gw0] [ 38%] PASSED tests/test_notifications.py::test_get_redis_connection_lazy_loading <- ../../../app/tests/test_notifications.py 
tests/test_notifications.py::test_get_redis_connection_ping_fails <- ../../../app/tests/test_notifications.py 
[gw0] [ 39%] PASSED tests/test_notifications.py::test_get_redis_connection_ping_fails <- ../../../app/tests/test_notifications.py 
tests/test_remaining_api_coverage.py::test_api_grids_create_and_update 
[gw0] [ 39%] PASSED tests/test_remaining_api_coverage.py::test_api_grids_create_and_update 
tests/test_remaining_api_coverage.py::test_api_prompt_update 
[gw0] [ 40%] FAILED tests/test_remaining_api_coverage.py::test_api_prompt_update 
tests/test_remaining_api_coverage.py::test_api_get_extractions 
[gw0] [ 40%] FAILED tests/test_remaining_api_coverage.py::test_api_get_extractions 
tests/test_remaining_api_coverage.py::test_api_settings_endpoints 
[gw0] [ 41%] PASSED tests/test_remaining_api_coverage.py::test_api_settings_endpoints 
tests/test_remaining_api_coverage.py::test_api_admin_endpoints 
[gw0] [ 42%] FAILED tests/test_remaining_api_coverage.py::test_api_admin_endpoints 
tests/test_remaining_api_coverage.py::test_api_extensions_endpoint 
[gw0] [ 42%] PASSED tests/test_remaining_api_coverage.py::test_api_extensions_endpoint 
tests/test_scalability.py::test_api_response_time_with_large_dataset 
[gw0] [ 43%] FAILED tests/test_scalability.py::test_api_response_time_with_large_dataset 
tests/test_scalability.py::test_analysis_task_on_large_dataset 
[gw0] [ 43%] FAILED tests/test_scalability.py::test_analysis_task_on_large_dataset 
tests/test_security.py::test_create_project_with_xss_payload 
[gw0] [ 44%] PASSED tests/test_security.py::test_create_project_with_xss_payload 
tests/test_security.py::test_create_project_with_sql_injection_payload 
[gw0] [ 44%] PASSED tests/test_security.py::test_create_project_with_sql_injection_payload 
tests/test_security.py::test_file_upload_path_traversal_is_prevented 
[gw0] [ 45%] FAILED tests/test_security.py::test_file_upload_path_traversal_is_prevented 
tests/test_security.py::test_file_upload_rejects_dangerous_file_types 
[gw0] [ 46%] FAILED tests/test_security.py::test_file_upload_rejects_dangerous_file_types 
tests/test_security.py::test_api_access_to_non_existent_resource 
[gw0] [ 46%] PASSED tests/test_security.py::test_api_access_to_non_existent_resource 
tests/test_server_endpoints.py::test_health_check 
[gw0] [ 47%] PASSED tests/test_server_endpoints.py::test_health_check 
tests/test_server_endpoints.py::test_create_project 
[gw0] [ 47%] PASSED tests/test_server_endpoints.py::test_create_project 
tests/test_server_endpoints.py::test_get_available_databases 
[gw0] [ 48%] PASSED tests/test_server_endpoints.py::test_get_available_databases 
tests/test_server_endpoints.py::test_get_project_details 
[gw0] [ 48%] PASSED tests/test_server_endpoints.py::test_get_project_details 
tests/test_server_endpoints.py::test_get_project_details_not_found 
[gw0] [ 49%] PASSED tests/test_server_endpoints.py::test_get_project_details_not_found 
tests/test_server_endpoints.py::test_delete_project 
[gw0] [ 50%] PASSED tests/test_server_endpoints.py::test_delete_project 
tests/test_server_endpoints.py::test_delete_non_existent_project 
[gw0] [ 50%] PASSED tests/test_server_endpoints.py::test_delete_non_existent_project 
tests/test_server_endpoints.py::test_get_all_projects 
[gw0] [ 51%] PASSED tests/test_server_endpoints.py::test_get_all_projects 
tests/test_server_endpoints.py::test_get_all_projects_empty 